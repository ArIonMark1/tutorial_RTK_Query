"use strict";(self.webpackChunktutorial_RTK_Query=self.webpackChunktutorial_RTK_Query||[]).push([[551],{4551:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var s=t(8174),a=(t(5462),t(1413)),r=t(5898),c=t(5052),o=t(5861),i=t(9439),l=t(4687),d=t.n(l),u=t(184),h=function(e){var n=e.id,t=e.name,a=e.phone,l=(0,r.Nt)(),h=(0,i.Z)(l,2),m=h[0],p=h[1].isLoading;function x(){return x=(0,o.Z)(d().mark((function e(n){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n);case 2:(a=e.sent).data&&s.Am.success("The notification ".concat(t," successful deleted.")),a.error&&s.Am.error("Something went wrong... The notification ".concat(t," could not be deleted."));case 5:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}return(0,u.jsxs)("li",{className:"contactsList__row",children:[(0,u.jsxs)("div",{className:"container-content",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"titleContent",children:"Name:"}),(0,u.jsxs)("span",{className:"content",children:[" ",t]})]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"titleContent",children:"Phone:"}),(0,u.jsxs)("span",{className:"content",children:[" ",a]})]})]}),(0,u.jsxs)("button",{className:"button",type:"button",onClick:function(){return function(e){return x.apply(this,arguments)}(n)},disabled:p,children:[p&&(0,u.jsx)(c.Z,{size:5,color:"white"}),"Delete"]})]})},m=function(){var e=(0,r.bC)({skip:!1,pollingInterval:2e3,refetchOnMountOrArgChange:2e3,refetchOnFocus:!0,refetchOnReconnect:!0}),n=e.data,t=e.isFetching,s=e.isError,o=e.error;return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)("div",{className:"loader",children:(0,u.jsx)(c.Z,{size:20,margin:5,color:"#3f68b5d1","aria-label":"Loading Spinner"})}),s&&(0,u.jsx)("div",{children:(0,u.jsxs)("h3",{className:"headers",children:[o.status,". ",o.error]})}),n&&(0,u.jsxs)("div",{className:"contactsContainer",children:[(0,u.jsx)("h2",{className:"headers",children:"Contacts"}),(0,u.jsx)("ul",{className:"contactsList",children:n.map((function(e){return(0,u.jsx)(h,(0,a.Z)({},e),e.id)}))})]})]})},p=t(2791),x=function(){var e=(0,p.useState)(""),n=(0,i.Z)(e,2),t=n[0],a=n[1],l=(0,p.useState)(""),h=(0,i.Z)(l,2),m=h[0],x=h[1],j=(0,r.Lr)(),f=(0,i.Z)(j,2),b=f[0],N=f[1].isLoading,g=function(){var e=(0,o.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b({name:t,phone:m});case 3:(r=e.sent).data&&s.Am.success("".concat(t," added to contacts.")),r.error&&s.Am.error("Something went wrong... Additing contact ".concat(t," was rejected.")),a(""),x("");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsxs)("form",{id:"form",className:"contactForm form",onSubmit:g,children:[(0,u.jsxs)("label",{className:"label",htmlFor:"name",children:["Name",(0,u.jsx)("br",{}),(0,u.jsx)("input",{id:"name",className:"nameField",type:"text",name:"name",value:t,onChange:function(e){return a(e.currentTarget.value)},placeholder:"Enter contact name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,u.jsxs)("label",{className:"label",htmlFor:"phone",children:["Number",(0,u.jsx)("br",{}),(0,u.jsx)("input",{className:"nameField",id:"phone",type:"tel",name:"phone",value:m,onChange:function(e){return x(e.currentTarget.value)},placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,u.jsxs)("button",{className:"button",type:"submit",disabled:N,children:[N&&(0,u.jsx)(c.Z,{size:5,color:"white"}),(0,u.jsx)("span",{children:"Add contact"})]})]})},j=function(){return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)(s.Ix,{position:"top-center",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,u.jsx)("h2",{className:"headers",children:"Phone Book"}),(0,u.jsx)(x,{}),(0,u.jsx)(m,{})]})}}}]);
//# sourceMappingURL=551.aba27de5.chunk.js.map